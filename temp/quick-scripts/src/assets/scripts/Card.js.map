{"version":3,"sources":["assets\\scripts\\Card.js"],"names":["cc","Class","Component","properties","cardCost","Integer","cardFunction","heal_8","card","role","find","getComponent","nowProperty","blood","mobility","removeCard","holyNova_9","nowPlayer","index","Number","name","teammate","enemy1","enemy2","tough_12","attack","buff","todoList","push","endTurn","window","global","nowTurn","person","act","onLoad","Array","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        cardCost:[cc.Integer],\r\n        cardFunction:null,\r\n    },\r\n    //卡牌响应函数中的this不是card.js\r\n    heal_8:function(card){\r\n        var role=cc.find('Canvas').getComponent('globalGame').nowProperty;\r\n        role.blood+=1;\r\n        role.mobility-=card.cardCost[8];\r\n        cc.find('Canvas/Deck').getComponent('Deck').removeCard(8);\r\n    },\r\n    holyNova_9:function(card){\r\n        var role=cc.find('Canvas').getComponent('globalGame').nowPlayer;\r\n        var index=Number(role.name[6]);\r\n        var teammate=index+2>4?index-2:index+2;\r\n        var enemy1=index+1>4?index-3:index+1;\r\n        var enemy2=teammate+1>4?teammate-3:teammate+1;\r\n        cc.find(\"Canvas/Persons/Person\"+index).getComponent('Person').blood+=2;\r\n        cc.find(\"Canvas/Persons/Person\"+teammate).getComponent('Person').blood+=2;\r\n        cc.find(\"Canvas/Persons/Person\"+enemy1).getComponent('Person').blood+=1;\r\n        cc.find(\"Canvas/Persons/Person\"+enemy2).getComponent('Person').blood+=1;\r\n        role.mobility-=card.cardCost[9];\r\n        cc.find('Canvas/Deck').getComponent('Deck').removeCard(9);\r\n    },\r\n    tough_12:function(card){\r\n        var role=cc.find('Canvas').getComponent('globalGame').nowProperty;\r\n        role.attack*=2;\r\n        var buff=cc.find('Canvas').getComponent('Buff');\r\n        buff.todoList.push({\r\n            endTurn:window.global.nowTurn,\r\n            person:role,\r\n            act:function(){\r\n                this.person.attack/=2;\r\n            }\r\n        });\r\n        role.mobility-=card.cardCost[12];\r\n        cc.find('Canvas/Deck').getComponent('Deck').removeCard(12);        \r\n    },\r\n    onLoad () {\r\n        this.cardCost=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];//[4,3,2,3,3,4,4,5,2,3,3,3,3,3,4,4,5];\r\n        this.cardFunction=new Array();\r\n        this.cardFunction[8]=this.heal_8;\r\n        this.cardFunction[9]=this.holyNova_9;\r\n        this.cardFunction[12]=this.tough_12;\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}