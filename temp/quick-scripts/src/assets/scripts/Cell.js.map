{"version":3,"sources":["assets\\scripts\\Cell.js"],"names":["cc","Class","Component","properties","mapx","mapy","kind","inMonitor","routeID","setColor","node","color","Color","RED","resetColor","stepOnCell","Person","rand_event","Math","floor","random","game","emit","onLoad","start","self","loader","loadRes","SpriteFrame","err","spriteFrame","getComponent","Sprite"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\tmapx: 0, //在map[i][j]中的横坐标\r\n\t\tmapy: 0,//在map[i][j]中的纵坐标\r\n\t\tkind: null, //格子的类型，0:空白格，1:卡牌格，2:事件格\r\n\t\tinMonitor: 0, //用来判断是否处于监听中的标记\r\n\t\trouteID: null, //记录这个cell是map中哪条route的终点，即在routes中的下标\r\n\t\t\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\t\r\n\tsetColor: function() {\r\n\t\t//设置cell的颜色为红色，表示可走\r\n\t\tthis.node.color = cc.Color.RED;\r\n\t},\r\n\t\r\n\tresetColor: function() {\r\n\t\t//还原cell的颜色\r\n\t\tthis.node.color = cc.color(255,255,255,255);\r\n\t},\r\n\t\r\n\tstepOnCell: function(Person) {\r\n\t\tif (this.kind == 0) //空白格\r\n\t\t\treturn;\r\n\t\telse if (this.kind == 1) //卡牌格\r\n\t\t\treturn; //还没写好卡牌，暂时先跳过\r\n\t\telse if (this.kind == 2) { //事件格\r\n\t\t\t//随机产生6个事件之一\r\n\t\t\tvar rand_event = Math.floor(Math.random()*6);\r\n\t\t\tif (rand_event == 0)\r\n\t\t\t\t;\r\n\t\t\telse if (rand_event == 1)\r\n\t\t\t\t;\r\n\t\t\telse if (rand_event == 2)\r\n\t\t\t\t;\r\n\t\t\telse if (rand_event == 3)\r\n\t\t\t\t;\r\n\t\t\telse if (rand_event == 4)\r\n\t\t\t\t;\r\n\t\t\telse if (rand_event == 5)\r\n\t\t\t\t;\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t向全局发送事件,全局收到后，显示事件图片\r\n\t\t\t或者就在这里创建节点显示?\r\n\t\t\t*/\r\n\t\t\tcc.game.emit('show-event', rand_event);\r\n\t\t}\r\n\t},\r\n\t\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\t\r\n\t},\r\n\r\n    start () {\r\n\t\t//设置格子图片\r\n\t\tvar self = this;\r\n\t\tif (this.kind == 0) { //空白格\r\n\t\t\tcc.loader.loadRes(\"cell\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\t\tself.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (this.kind == 1) { //卡牌格\r\n\t\t\tcc.loader.loadRes(\"抽卡格\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\t\tself.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n\t\t\t});\r\n\t\t}\r\n\t\telse { //事件格\r\n\t\t\tcc.loader.loadRes(\"事件格\", cc.SpriteFrame, function (err, spriteFrame) {\r\n\t\t\t\tself.node.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n\t\t\t});\r\n\t\t}\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}