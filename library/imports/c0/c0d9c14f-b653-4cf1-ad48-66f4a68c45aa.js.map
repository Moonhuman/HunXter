{"version":3,"sources":["assets\\scripts\\Person.js"],"names":["global","require","person","cc","Class","Component","properties","nickname","get","ID","position","attack","blood","mobility","cards","myStatus","turn","useCardEnabled","goEnabled","_goEnabled","parter","avatar","posX","posY","moveByRoute","route","p","tween","i","length","console","log","getComponent","mapx","mapy","setPosition","getPosition","move2Pos","x","y","mapObj","find","pos","map","bindAvatar","node","onLoad","window","persons","push","name","start","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar global=require('globalGame');\r\nvar person=cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\tnickname: {\r\n\t\t\tdefault:null,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn this.nickname;\r\n\t\t\t},\r\n\t\t}\t,\r\n\t\tID:null,\r\n\t\tposition:null,\r\n\t\tattack:1,\r\n\t\tblood:10,//玩家血量,初始为2点，每回合恢复2点\r\n\t\tmobility:2,//玩家行动值\r\n\t\tcards:null,\r\n\t\tmyStatus:1,//0为死亡，1为正常\r\n\t\tturn:1,//玩家回合数\r\n\t\tuseCardEnabled:1,//是否使用卡牌，1为可使用卡牌\r\n\t\tgoEnabled:{\r\n\t\t\tdefault:1,\r\n\t\t\tget: function () {\r\n\t\t\t\treturn this._goEnabled;\r\n\t\t\t},\r\n\t\t},//是否可以行走,1为可以行走\r\n\t\tparter:null,\r\n\t\tavatar:null,\r\n\t\tposX:null,\r\n\t\tposY:null,\r\n    },\r\n\tmoveByRoute:function(route){\r\n\t\t//声明一个动作序列\r\n\t\t//var r=[cc.v2(100,100),cc.v2(100,100),cc.v2(100,100),cc.v2(100,100)];\r\n\t\t//var actArr=new Array();\r\n\t\t//console.log(route);\r\n\t\tvar p=cc.tween(this.avatar);\r\n\t\tfor (var i=0;i<route.length;i++){\r\n\t\t\t//p.to(0.01,position:route[i].getPosition()});\r\n\t\t\tconsole.log(route[i].getComponent('Cell').mapx+','+route[i].getComponent('Cell').mapy);\r\n\t\t}\r\n\t\tthis.avatar.setPosition(route[route.length-1].getPosition());\r\n\t\tthis.posX=route[route.length-1].getComponent('Cell').mapx;\r\n\t\tthis.posY=route[route.length-1].getComponent('Cell').mapy;\r\n\t\t//p.start();\r\n\t\t//console.log(actArr);\r\n\t\t//var seq = cc.sequence(actArr);\r\n\t\t\r\n\t\r\n\t},\r\n\tmove2Pos:function(x,y){\r\n\t\tthis.posX=x;\r\n\t\tthis.posY=y;\r\n\t\t//this.nowPos.y=y;\r\n\t\tvar mapObj=cc.find('Canvas/map').getComponent('GetMap');\r\n\t\tvar pos=mapObj.map[x][y].getPosition();\r\n\t\tthis.avatar.setPosition(pos);\r\n\t\t//console.log(pos);\r\n\t\t//console.log(this.nowPos);\r\n\t},\r\n\tbindAvatar:function(node){\r\n\t\t//console.log(node);\r\n\t\tthis.avatar=node;\r\n\t},\r\n\tonLoad(){\t\r\n\t\twindow.global.persons.push(this.node);\r\n\t\tconsole.log(this.name+\"onLoad\");\r\n\t},\r\n    start () {\r\n\t\t//初始化任务\r\n\t\t\r\n    },\r\n    update (dt) {\r\n\t\t\r\n\t\t\r\n\t},\r\n});"]}