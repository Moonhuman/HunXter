{"version":3,"sources":["assets\\scripts\\Person.js"],"names":["global","require","person","cc","Class","Component","properties","nickname","get","ID","position","attack","blood","mobility","cards","myStatus","turn","useCardEnabled","goEnabled","_goEnabled","parter","avatar","posX","posY","moveByRoute","route","p","tween","i","length","to","v2","x","y","start","getComponent","mapx","mapy","stepOnCell","node","move2Pos","mapObj","find","pos","map","getPosition","setPosition","bindAvatar","onLoad","Array","window","persons","push","console","log","name","update","dt"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\nvar global=require('globalGame');\nvar person=cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\t\tnickname: {\n\t\t\tdefault:null,\n\t\t\tget: function () {\n\t\t\t\treturn this.nickname;\n\t\t\t},\n\t\t}\t,\n\t\tID:null,\n\t\tposition:null,\n\t\tattack:1,\n\t\tblood:10,//玩家血量,初始为2点，每回合恢复2点\n\t\tmobility:2,//玩家行动值\n\t\tcards:null,\n\t\tmyStatus:1,//0为死亡，1为正常\n\t\tturn:1,//玩家回合数\n\t\tuseCardEnabled:1,//是否使用卡牌，1为可使用卡牌\n\t\tgoEnabled:{\n\t\t\tdefault:1,\n\t\t\tget: function () {\n\t\t\t\treturn this._goEnabled;\n\t\t\t},\n\t\t},//是否可以行走,1为可以行走\n\t\tparter:null,\n\t\tavatar:null,\n\t\tposX:null,\n\t\tposY:null,\n    },\n\tmoveByRoute:function(route){\n\t\t//声明一个动作序列\n\t\t//var r=[cc.v2(100,100),cc.v2(100,100),cc.v2(100,100),cc.v2(100,100)];\n\t\t//var actArr=new Array();\n\t\t//console.log(route);\n\t\tvar p=cc.tween(this.avatar);\n\t\tfor (var i=0;i<route.length;i++){\n\t\t\tp.to(0.1,{position:cc.v2(route[i].x,route[i].y)});\n\t\t\t//console.log(route[i].getComponent('Cell').mapx+','+route[i].getComponent('Cell').mapy);\n\t\t}\n\t\tp.start();\n\t\t//this.avatar.setPosition(route[route.length-1].getPosition());\n\t\tthis.posX=route[route.length-1].getComponent('Cell').mapx;\n\t\tthis.posY=route[route.length-1].getComponent('Cell').mapy;\n\t\t\n\t\troute[route.length-1].getComponent('Cell').stepOnCell(this.node);\n\t\n\t},\n\tmove2Pos:function(x,y){\n\t\tthis.posX=x;\n\t\tthis.posY=y;\n\t\t//this.nowPos.y=y;\n\t\tvar mapObj=cc.find('Canvas/map').getComponent('GetMap');\n\t\tvar pos=mapObj.map[x][y].getPosition();\n\t\tthis.avatar.setPosition(pos);\n\t\t//console.log(pos);\n\t\t//console.log(this.nowPos);\n\t},\n\tbindAvatar:function(node){\n\t\t//console.log(node);\n\t\tthis.avatar=node;\n\t},\n\tonLoad(){\t\n\t\tthis.cards=new Array();\n\t\twindow.global.persons.push(this.node);\n\t\tconsole.log(this.name+\"onLoad\");\n\t},\n    start () {\n\t\t//初始化任务\n\t\t\n    },\n    update (dt) {\n\t\t\n\t\t\n\t},\n});"]}