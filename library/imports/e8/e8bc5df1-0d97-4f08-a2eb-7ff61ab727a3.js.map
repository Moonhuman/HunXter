{"version":3,"sources":["assets\\scripts\\GetMap.js"],"names":["cc","Class","Component","properties","basex","basey","stepx","stepy","cell","type","Prefab","map","adj","GetEdge","Array","i","j","edge","length","push","onLoad","map_matrix","newcell","instantiate","parent","node","setPosition","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\tbasex: 0,\r\n\t\tbasey: 0,\r\n\t\tstepx: 0,\r\n\t\tstepy: 0,\r\n\t\tcell: {\r\n\t\t\tdefault: null,\r\n\t\t\ttype: cc.Prefab,\r\n\t\t},\r\n\t\tmap: null, //二维地图\r\n\t\tadj: null, //存边\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\t\r\n\tGetEdge: function() {\r\n\t\tthis.adj = new Array();\r\n\t\tfor (var i = 0; i < 11; i++) {\r\n\t\t\tthis.adj[i] = new Array();\r\n\t\t\tfor (var j = 0; j < 11; j++) {\r\n\t\t\t\t\tthis.adj[i][j] = new Array();\r\n\t\t\t}\r\n\t\t}\r\n\t\t//每一个四元数组表示：坐标(a[0],a[1])的cell和坐标(a[2],a[3])的cell之间有条边\r\n\t\tvar edge = [\r\n\t\t\t[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], \r\n\t\t\t[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], \r\n\t\t\t[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], \r\n\t\t];\r\n\t\tfor (var i = 0; i < edge.length; i++) {\r\n\t\t\tthis.adj[edge[i][0]][edge[i][1]].push([edge[i][2], edge[i][3]]);\r\n\t\t\tthis.adj[edge[i][1]][edge[i][2]].push([edge[i][0], edge[i][1]]);\r\n\t\t}\r\n\t},\r\n\t\r\n    onLoad () {\r\n\t\tvar map_matrix = [\r\n\t\t\t[1,1,1,1,1,1,1,1,1,1,1],\r\n\t\t\t[1,1,0,0,0,1,0,0,0,1,1],\r\n\t\t\t[1,0,1,0,0,1,0,0,1,0,1],\r\n\t\t\t[1,0,0,1,1,0,1,1,0,0,1],\r\n\t\t\t[1,0,0,1,0,0,0,1,0,0,1],\r\n\t\t\t[1,1,1,1,1,1,1,1,1,1,1],\r\n\t\t\t[1,0,0,1,0,0,0,1,0,0,1],\r\n\t\t\t[1,0,0,1,1,0,1,1,0,0,1],\r\n\t\t\t[1,0,1,0,0,1,0,0,1,0,1],\r\n\t\t\t[1,1,0,0,0,1,0,0,0,1,1],\r\n\t\t\t[1,1,1,1,1,1,1,1,1,1,1],\r\n\t\t];\r\n\t\tmap = new Array();\r\n\t\tfor (var i = 0; i < 11; i++) {\r\n\t\t\tmap[i] = new Array();\r\n\t\t\tfor (var j = 0; j < 11; j++) {\r\n\t\t\t\tmap[i][j] = null;\r\n\t\t\t\tif (map_matrix[i][j] == 1) {\r\n\t\t\t\t\tvar newcell = cc.instantiate(this.cell);\r\n\t\t\t\t\tnewcell.parent = this.node; //将cell节点加到map节点之下\r\n\t\t\t\t\tnewcell.setPosition(this.basex+this.stepx*i, this.basey+this.stepy*j);\r\n\t\t\t\t\tmap[i][j] = newcell;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.GetEdge(); //建边\r\n\t},\r\n\r\n    start () {\r\n\t\t\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}